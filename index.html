<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>APproximated Exhaustive Search for GLM • APES</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="APproximated Exhaustive Search for GLM">
<meta property="og:description" content="A package to perform APproximated Exhaustive Search for Generalised Linear Models.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">APES</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/APES.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/birthweight_logit.html">Birthweight Logistic Regression</a>
    </li>
    <li>
      <a href="articles/birthweight_poisson.html">Birthweight Poisson Regression</a>
    </li>
    <li>
      <a href="articles/diabetes_example.html">Diabetes example</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/kevinwang09/APES/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div id="apes-approximated-exhaustive-search-for-glms" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#apes-approximated-exhaustive-search-for-glms" class="anchor"></a>APES: APproximated Exhaustive Search for GLMs</h1></div>

<p><img src="inst/APES_logo.png" align="right" width="200"></p>
<p>APproximated Exhaustive Search (APES) is a model selection method for Generalised Linear Models. The accompanying paper is <a href="https://doi.org/10.1111/anzs.12276">Wang et. al. (2019)</a>. You can find the vignette <a href="https://kevinwang09.github.io/APES/articles/APES.html">here</a>.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="kw"><a href="https://devtools.r-lib.org">devtools</a></span>)
<span class="kw">devtools</span>::<span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span>(<span class="st">"kevinwang09/APES"</span>)
</pre></div>
</div>
<div id="a-quick-example" class="section level2">
<h2 class="hasAnchor">
<a href="#a-quick-example" class="anchor"></a>A quick example</h2>
<p>Suppose we have a data with 500 rows and 20 variables, and we have fitted a logistic regression model. We may wish to perform an exhaustive variable selection on such a model to determine which variables produce the most parsimonious model. However, performing an exhaustive variable selection means looking through 2^20 = 1,048,576 models! Exhaustive variable selection is known to be time consuming, and this might take a long time.</p>
<p>APES is a variable selection method that first converts the logistic model into a linear model and then it uses a best-subset algorithm (such as leaps or mixed integer optimisation) to search for the best linear model. The selected linear models are then converted into logistic models. The reason for doing this is that the exhaustive variable selection can be performed much faster in the linear model space.</p>
<p>The current implementation of APES supports logistic, poisson and Cox regression models.</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="kw"><a href="https://github.com/kevinwang09/APES">APES</a></span>)

<span class="co">## Simulating data</span>
<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="fl">10</span>)
<span class="kw">n</span> <span class="op">=</span> <span class="fl">500</span>
<span class="kw">p</span> <span class="op">=</span> <span class="fl">20</span>
<span class="kw">k</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="kw">p</span>
<span class="kw">beta</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>, <span class="op">-</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fl">0</span>, <span class="kw">p</span><span class="op">-</span><span class="fl">2</span>))
<span class="kw">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="kw">n</span><span class="op">*</span><span class="kw">p</span>), ncol = <span class="kw">p</span>)
<span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span>(<span class="kw">x</span>) <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span>(<span class="st">"X"</span>, <span class="fl">1</span><span class="op">:</span><span class="kw">p</span>)
<span class="kw">y</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span>(n = <span class="kw">n</span>, size = <span class="fl">1</span>, prob = <span class="fu"><a href="reference/logit.html">expit</a></span>(<span class="kw">x</span> <span class="op">%*%</span> <span class="kw">beta</span>))
<span class="kw">data</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">y</span>, <span class="kw">x</span>)

<span class="co">## Fitting a full model </span>
<span class="kw">model</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html">glm</a></span>(<span class="kw">y</span> <span class="op">~</span> <span class="kw">.</span>, data = <span class="kw">data</span>, family = <span class="st">"binomial"</span>)

<span class="co">## Running APES selection</span>
<span class="kw">apes_result</span> <span class="op">=</span> <span class="fu"><a href="reference/apes.html">apes</a></span>(model = <span class="kw">model</span>)
<span class="kw">apes_result</span>
<span class="co">#&gt; Time taken: </span>
<span class="co">#&gt; Time difference of 0.0001144012 mins</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  APES model selection data frame: </span>
<span class="co">#&gt; # A tibble: 20 x 7</span>
<span class="co">#&gt;    model_name  model_size ic_opt_models apes_mle_loglike mle_aic mle_bic status </span>
<span class="co">#&gt;    &lt;chr&gt;            &lt;dbl&gt; &lt;chr&gt;                    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;  </span>
<span class="co">#&gt;  1 apes_model…          2 ""                       -297.    599.    607. leaps_…</span>
<span class="co">#&gt;  2 apes_model…          3 "apes_min_bi…            -270.    546.    558. leaps_…</span>
<span class="co">#&gt;  3 apes_model…          4 ""                       -269.    545.    562. leaps_…</span>
<span class="co">#&gt;  4 apes_model…          5 ""                       -267.    544.    565. leaps_…</span>
<span class="co">#&gt;  5 apes_model…          6 ""                       -266.    545.    570. leaps_…</span>
<span class="co">#&gt;  6 apes_model…          7 ""                       -266.    545.    575. leaps_…</span>
<span class="co">#&gt;  7 apes_model…          8 ""                       -263.    543.    577. leaps_…</span>
<span class="co">#&gt;  8 apes_model…          9 ""                       -262.    542.    580. leaps_…</span>
<span class="co">#&gt;  9 apes_model…         10 ""                       -261.    543.    585. leaps_…</span>
<span class="co">#&gt; 10 apes_model…         11 "apes_min_ai…            -260.    541.    587. leaps_…</span>
<span class="co">#&gt; 11 apes_model…         12 ""                       -260.    543.    594. leaps_…</span>
<span class="co">#&gt; 12 apes_model…         13 ""                       -258.    543.    598. leaps_…</span>
<span class="co">#&gt; 13 apes_model…         14 ""                       -258.    544.    603. leaps_…</span>
<span class="co">#&gt; 14 apes_model…         15 ""                       -257.    544.    608. leaps_…</span>
<span class="co">#&gt; 15 apes_model…         16 ""                       -257.    546.    614. leaps_…</span>
<span class="co">#&gt; 16 apes_model…         17 ""                       -257.    548.    620. leaps_…</span>
<span class="co">#&gt; 17 apes_model…         18 ""                       -257.    550.    626. leaps_…</span>
<span class="co">#&gt; 18 apes_model…         19 ""                       -257.    551.    631. leaps_…</span>
<span class="co">#&gt; 19 apes_model…         20 ""                       -257.    553.    638. leaps_…</span>
<span class="co">#&gt; 20 apes_model…         21 ""                       -256.    555.    643. leaps_…</span>
<span class="kw">apes_result</span><span class="op">$</span><span class="kw">selected_model_beta</span>
<span class="co">#&gt;           apes_min_aic apes_min_bic</span>
<span class="co">#&gt; intercept   -0.1606897   -0.1920528</span>
<span class="co">#&gt; X1           1.0891026    1.0773367</span>
<span class="co">#&gt; X2          -0.8247133   -0.8352282</span>
<span class="co">#&gt; X3           0.0000000    0.0000000</span>
<span class="co">#&gt; X4           0.1467194    0.0000000</span>
<span class="co">#&gt; X5           0.0000000    0.0000000</span>
<span class="co">#&gt; X6           0.0000000    0.0000000</span>
<span class="co">#&gt; X7           0.0000000    0.0000000</span>
<span class="co">#&gt; X8           0.1607424    0.0000000</span>
<span class="co">#&gt; X9           0.1913598    0.0000000</span>
<span class="co">#&gt; X10          0.0000000    0.0000000</span>
<span class="co">#&gt; X11         -0.1001883    0.0000000</span>
<span class="co">#&gt; X12          0.0000000    0.0000000</span>
<span class="co">#&gt; X13          0.1869966    0.0000000</span>
<span class="co">#&gt; X14          0.0000000    0.0000000</span>
<span class="co">#&gt; X15          0.0000000    0.0000000</span>
<span class="co">#&gt; X16          0.0000000    0.0000000</span>
<span class="co">#&gt; X17          0.2199132    0.0000000</span>
<span class="co">#&gt; X18          0.2186733    0.0000000</span>
<span class="co">#&gt; X19          0.0000000    0.0000000</span>
<span class="co">#&gt; X20         -0.2280918    0.0000000</span>
</pre></div>
<p>The best model of each model size are stored and the best model of all can be selected using an information criterion such as the Akaike Information Criterion (AIC) or the Bayesian Information Criterion (BIC). Notice how in the above output of APES, the true model size is identified as 3 and 2 by the AIC and BIC respectively. The selected model estimates are also shown.</p>
<p>The bootstrap procedure can be used to understand the variable selection stability. The APES package also comes with some plotting functions that displays the bootstrapped results.</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="kw">boot_result</span> <span class="op">=</span> <span class="fu"><a href="reference/apes.html">apes</a></span>(model = <span class="kw">model</span>, n_boot = <span class="fl">20</span>)
<span class="kw">boot_result</span>
<span class="co">#&gt; Time taken:  0.03168368  minutes </span>
<span class="co">#&gt; Total number of bootstrap APES results:  20</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span>(<span class="kw">boot_result</span>, type = <span class="st">"vip"</span>)
</pre></div>
<p><img src="reference/figures/README-unnamed-chunk-3-1.png"><!-- --></p>
</div>
</div>
<div id="references" class="section level1">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<ul>
<li>Wang, K. Y., Tarr, G., Yang, J. Y., &amp; Mueller, S. (2019). Fast and approximate exhaustive variable selection for generalised linear models with APES. Australian &amp; New Zealand Journal of Statistics, 61(4), 445–465. <a href="https://doi.org/10.1111/anzs.12276" class="uri">https://doi.org/10.1111/anzs.12276</a>
</li>
<li>Icon made by Freepik from www.flaticon.com</li>
</ul>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/kevinwang09/APES/">https://​github.com/​kevinwang09/​APES/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/kevinwang09/APES/issues">https://​github.com/​kevinwang09/​APES/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Kevin Wang <br><small class="roles"> Author, maintainer </small>  </li>
<li>Garth Tarr <br><small class="roles"> Author </small>  </li>
<li>Jean Yang <br><small class="roles"> Author </small>  </li>
<li>Samuel Mueller <br><small class="roles"> Author </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/kevinwang09/APES/actions"><img src="https://github.com/kevinwang09/APES/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://codecov.io/github/kevinwang09/APES?branch=master"><img src="https://codecov.io/gh/kevinwang09/APES/branch/master/graph/badge.svg" alt="Coverage status"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Kevin Wang, Garth Tarr, Jean Yang, Samuel Mueller.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.0.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
