<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generic plotting function for class boot_apes — plot.boot_apes • APES</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Generic plotting function for class boot_apes — plot.boot_apes" />
<meta property="og:description" content="This function is suitable for a list of bootstrap APES outputs.
From each bootstrap run, APES stores log-likelihood for every model it considered.
In this function, we then consider general information criterion (GIC) of the form
-2*logLike + penalty * modeSize.
For each penalty and each bootstrap run, we apply this GIC to find a model of the optimal fit, and then
look at which variables are selected in that model.
The frequency of a variable selected across different penalties are then avaraged across all bootstrap runs.
This function displays the same information as plot_vi, but in a tile plot format." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">APES</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/APES.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/birthweight_logit.html">Birthweight Logistic Regression</a>
    </li>
    <li>
      <a href="../articles/birthweight_poisson.html">Birthweight Poisson Regression</a>
    </li>
    <li>
      <a href="../articles/diabetes_example.html">Diabetes example</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/kevinwang09/APES/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generic plotting function for class <code>boot_apes</code></h1>
    <small class="dont-index">Source: <a href='https://github.com/kevinwang09/APES/blob/master/R/plot.boot_apes.R'><code>R/plot.boot_apes.R</code></a>, <a href='https://github.com/kevinwang09/APES/blob/master/R/plot_ic-boot_apes.R'><code>R/plot_ic-boot_apes.R</code></a>, <a href='https://github.com/kevinwang09/APES/blob/master/R/plot_ma-boot_apes.R'><code>R/plot_ma-boot_apes.R</code></a>, and 2 more</small>
    <div class="hidden name"><code>plot.boot_apes.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function is suitable for a list of bootstrap APES outputs.
From each bootstrap run, APES stores log-likelihood for every model it considered.
In this function, we then consider general information criterion (GIC) of the form
-2*logLike + penalty * modeSize.
For each penalty and each bootstrap run, we apply this GIC to find a model of the optimal fit, and then
look at which variables are selected in that model.
The frequency of a variable selected across different penalties are then avaraged across all bootstrap runs.</p>
<p>This function displays the same information as plot_vi, but in a tile plot format.</p>
    </div>

    <pre class="usage"><span class='co'># S3 method for boot_apes</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span>(
  <span class='kw'>x</span>,
  type = <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"vip_tile"</span>, <span class='st'>"vip"</span>, <span class='st'>"path"</span>, <span class='st'>"ma"</span>),
  order = <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"BIC"</span>, <span class='st'>"AIC"</span>, <span class='st'>"median"</span>),
  <span class='kw'>...</span>
)

<span class='fu'>plot_path_boot_apes</span>(<span class='kw'>x</span>, order = <span class='st'>"BIC"</span>)

<span class='fu'>plot_ma_boot_apes</span>(<span class='kw'>x</span>, order = <span class='st'>"BIC"</span>)

<span class='fu'>plot_vip_boot_apes</span>(<span class='kw'>x</span>)

<span class='fu'>plot_vip_tile_boot_apes</span>(<span class='kw'>x</span>, order = <span class='st'>"median"</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>An object of class <code>boot_apes</code></p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>Type of plot:</p><ul>
<li><p>vi: Variable inclusion plot in Tarr et. al. 2018.
Shows the probability of variability selection across various penalty terms.
Either "AIC" or "BIC" can be shown using the order argument.</p></li>
<li><p>"vi_tile" (default): Similar to "vi", but in a tile format.</p></li>
<li><p>"ic": Information criterion vs model size.
Either "AIC" or "BIC" can be shown using the order argument.</p></li>
<li><p>"ma": Model averaged coefficient across bootstrap runs.
The weighted averages can be calculated from either "AIC" or "BIC" using the order argument.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>order</th>
      <td><p>The ordering of variables. Either "median", "AIC" or "BIC"</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional parameters (not currently used)</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A ggplot output corresponding to the select plotting type.</p>
<p>A ggplot of AIC/BIC path plot. Each curve is one bootstrapped APES run.</p>
<p>A ggplot. From each bootstrap run, APES stores coefficient values averaged across all models considered.
As we have multiple bootstrapped APES output, we can cummulatively average
these model averaged coefficient values across all bootstrap runs.
On the final plot, we should be able to see variables of non-zero coefficients show up distinctly away from zero.</p>
<p>A list.</p><ul>
<li><p><code>boot_vars_plotdf</code> a tibble with all the necessary values to plot a variable inclusion plot</p></li>
<li><p><cite>vip</cite> a variable inclusion plot in ggplot format.</p></li>
</ul>

<p>A list.</p><ul>
<li><p><code>apes_mle_beta_binary_plotdf</code> a tibble with all the necessary values to plot a tile variable inclusion plot</p></li>
<li><p><code>var_tile_plot</code> a ggplot with continuous colouring</p></li>
<li><p><code>var_tile_plot_category</code> a ggplot with discrete colouring</p></li>
</ul>

    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Kevin Wang</p>
<p>Kevin Wang</p>
<p>Kevin Wang</p>
<p>Kevin Wang</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span>(<span class='fl'>10</span>)
<span class='kw'>n</span> <span class='op'>=</span> <span class='fl'>100</span>
<span class='kw'>p</span> <span class='op'>=</span> <span class='fl'>10</span>
<span class='kw'>k</span> <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span>
<span class='kw'>beta</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>, <span class='op'>-</span><span class='fl'>1</span>, <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span>(<span class='fl'>0</span>, <span class='kw'>p</span><span class='op'>-</span><span class='fl'>2</span>))
<span class='kw'>x</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span>(<span class='kw'>n</span><span class='op'>*</span><span class='kw'>p</span>), ncol = <span class='kw'>p</span>)
<span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span>(<span class='kw'>x</span>) <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span>(<span class='st'>"X"</span>, <span class='fl'>1</span><span class='op'>:</span><span class='kw'>p</span>)
<span class='kw'>y</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Binomial.html'>rbinom</a></span>(n = <span class='kw'>n</span>, size = <span class='fl'>1</span>, prob = <span class='fu'><a href='logit.html'>expit</a></span>(<span class='kw'>x</span> <span class='op'>%*%</span> <span class='kw'>beta</span>))
<span class='kw'>data</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span>(<span class='kw'>y</span>, <span class='kw'>x</span>)
<span class='kw'>model</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/glm.html'>glm</a></span>(<span class='kw'>y</span> <span class='op'>~</span> <span class='kw'>.</span>, data = <span class='kw'>data</span>, family = <span class='st'>"binomial"</span>)

<span class='kw'>list_result</span> <span class='op'>=</span> <span class='fu'><a href='apes.html'>apes</a></span>(model = <span class='kw'>model</span>, n_boot = <span class='fl'>20</span>)

<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span>(<span class='kw'>list_result</span>, type = <span class='st'>"vip_tile"</span>)
</div><div class='output co'>#&gt; $apes_mle_beta_binary_plotdf
#&gt; <span style='color: #555555;'># A tibble: 110 x 5</span><span>
#&gt;    variables model_name    freq_selected model_size freq_selected_category
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>                 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>      </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>                 
#&gt; </span><span style='color: #555555;'> 1</span><span> intercept apes_model_2              1          2 (0.8,1]               
#&gt; </span><span style='color: #555555;'> 2</span><span> intercept apes_model_3              1          3 (0.8,1]               
#&gt; </span><span style='color: #555555;'> 3</span><span> intercept apes_model_4              1          4 (0.8,1]               
#&gt; </span><span style='color: #555555;'> 4</span><span> intercept apes_model_5              1          5 (0.8,1]               
#&gt; </span><span style='color: #555555;'> 5</span><span> intercept apes_model_6              1          6 (0.8,1]               
#&gt; </span><span style='color: #555555;'> 6</span><span> intercept apes_model_7              1          7 (0.8,1]               
#&gt; </span><span style='color: #555555;'> 7</span><span> intercept apes_model_8              1          8 (0.8,1]               
#&gt; </span><span style='color: #555555;'> 8</span><span> intercept apes_model_9              1          9 (0.8,1]               
#&gt; </span><span style='color: #555555;'> 9</span><span> intercept apes_model_10             1         10 (0.8,1]               
#&gt; </span><span style='color: #555555;'>10</span><span> intercept apes_model_11             1         11 (0.8,1]               
#&gt; </span><span style='color: #555555;'># … with 100 more rows</span><span>
#&gt; 
#&gt; $var_tile_plot</div><div class='img'><img src='plot.boot_apes-1.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt; 
#&gt; $var_tile_plot_category</div><div class='img'><img src='plot.boot_apes-2.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt; </div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span>(<span class='kw'>list_result</span>, type = <span class='st'>"vip"</span>)
</div><div class='output co'>#&gt; $boot_vars_plotdf
#&gt; </span><span style='color: #555555;'># A tibble: 1,023 x 3</span><span>
#&gt;    penalty variables boot_select_prob
#&gt;      </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>                </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 1</span><span>       0 intercept                1
#&gt; </span><span style='color: #555555;'> 2</span><span>       0 X1                       1
#&gt; </span><span style='color: #555555;'> 3</span><span>       0 X2                       1
#&gt; </span><span style='color: #555555;'> 4</span><span>       0 X3                       1
#&gt; </span><span style='color: #555555;'> 5</span><span>       0 X4                       1
#&gt; </span><span style='color: #555555;'> 6</span><span>       0 X5                       1
#&gt; </span><span style='color: #555555;'> 7</span><span>       0 X6                       1
#&gt; </span><span style='color: #555555;'> 8</span><span>       0 X7                       1
#&gt; </span><span style='color: #555555;'> 9</span><span>       0 X8                       1
#&gt; </span><span style='color: #555555;'>10</span><span>       0 X9                       1
#&gt; </span><span style='color: #555555;'># … with 1,013 more rows</span><span>
#&gt; 
#&gt; $vip</div><div class='img'><img src='plot.boot_apes-3.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt; </div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span>(<span class='kw'>list_result</span>, type = <span class='st'>"path"</span>)
</div><div class='img'><img src='plot.boot_apes-4.png' alt='' width='700' height='433' /></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span>(<span class='kw'>list_result</span>, type = <span class='st'>"ma"</span>)
</div><div class='img'><img src='plot.boot_apes-5.png' alt='' width='700' height='433' /></div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Kevin Wang, Garth Tarr, Jean Yang, Samuel Mueller.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.0.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


