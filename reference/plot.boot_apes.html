<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generic plotting function for class boot_apes — plot.boot_apes • APES</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Generic plotting function for class boot_apes — plot.boot_apes" />
<meta property="og:description" content="This function is suitable for a list of bootstrap APES outputs.
From each bootstrap run, APES stores log-likelihood for every model it considered.
In this function, we then consider general information criterion (GIC) of the form
-2*logLike + penalty * modeSize.
For each penalty and each bootstrap run, we apply this GIC to find a model of the optimal fit, and then
look at which variables are selected in that model.
The frequency of a variable selected across different penalties are then avaraged across all bootstrap runs.
This function displays the same information as plot_vi, but in a tile plot format." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">APES</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/APES.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/birthweight.html">APES: birth weight data example</a>
    </li>
    <li>
      <a href="../articles/diabetes.html">APES: diabetes data example</a>
    </li>
    <li>
      <a href="../articles/install_bestsubset.html">Install `bestsubset`</a>
    </li>
    <li>
      <a href="../articles/speed.html">Speeding up APES</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/kevinwang09/APES/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generic plotting function for class <code>boot_apes</code></h1>
    <small class="dont-index">Source: <a href='https://github.com/kevinwang09/APES/blob/master/R/plot.boot_apes.R'><code>R/plot.boot_apes.R</code></a>, <a href='https://github.com/kevinwang09/APES/blob/master/R/plot_ma-boot_apes.R'><code>R/plot_ma-boot_apes.R</code></a>, <a href='https://github.com/kevinwang09/APES/blob/master/R/plot_path-boot_apes.R'><code>R/plot_path-boot_apes.R</code></a>, and 2 more</small>
    <div class="hidden name"><code>plot.boot_apes.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function is suitable for a list of bootstrap APES outputs.
From each bootstrap run, APES stores log-likelihood for every model it considered.
In this function, we then consider general information criterion (GIC) of the form
-2*logLike + penalty * modeSize.
For each penalty and each bootstrap run, we apply this GIC to find a model of the optimal fit, and then
look at which variables are selected in that model.
The frequency of a variable selected across different penalties are then avaraged across all bootstrap runs.</p>
<p>This function displays the same information as plot_vi, but in a tile plot format.</p>
    </div>

    <pre class="usage"><span class='co'># S3 method for boot_apes</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>x</span>, type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"vip_tile"</span>, <span class='st'>"vip"</span>, <span class='st'>"path"</span>, <span class='st'>"ma"</span><span class='op'>)</span>, max_vars <span class='op'>=</span> <span class='cn'>NULL</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>plot_ma_boot_apes</span><span class='op'>(</span><span class='va'>x</span>, order <span class='op'>=</span> <span class='st'>"BIC"</span>, max_vars <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='fu'>plot_path_boot_apes</span><span class='op'>(</span><span class='va'>x</span>, order <span class='op'>=</span> <span class='st'>"BIC"</span><span class='op'>)</span>

<span class='fu'>plot_vip_boot_apes</span><span class='op'>(</span><span class='va'>x</span>, max_vars <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='fu'>plot_vip_tile_boot_apes</span><span class='op'>(</span><span class='va'>x</span>, order <span class='op'>=</span> <span class='st'>"median"</span>, categorical <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>An object of class <code>boot_apes</code></p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>Type of plot:</p><ul>
<li><p>vip: Variable inclusion plot in Tarr et. al. 2018.
Shows the probability of variability selection across various penalty terms.
Either "AIC" or "BIC" can be shown using the order argument.</p></li>
<li><p>"vi_tile" (default): Similar to "vi", but in a tile format.</p></li>
<li><p>"path": Information criterion vs model size.
Either "AIC" or "BIC" can be shown using the order argument.</p></li>
<li><p>"ma": Model averaged coefficient across bootstrap runs.
The weighted averages can be calculated from either "AIC" or "BIC" using the order argument.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>max_vars</th>
      <td><p>Maximum number of variables to label. Default to NULL which plots all variables.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional parameters. Some options are:</p><ul>
<li><p>"order": Either "AIC", "BIC". If type is selected to be "vi_tile", then also takes the value "median".</p></li>
</ul></td>
    </tr>
    <tr>
      <th>order</th>
      <td><p>The ordering of variables. Either "median", "AIC" or "BIC"</p></td>
    </tr>
    <tr>
      <th>categorical</th>
      <td><p>If categorised colour scheme should be used. Default to FALSE.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A ggplot output corresponding to the select plotting type.</p>
<p>A ggplot. From each bootstrap run, APES stores coefficient values averaged across all models considered.
As we have multiple bootstrapped APES output, we can cummulatively average
these model averaged coefficient values across all bootstrap runs.
On the final plot, we should be able to see variables of non-zero coefficients show up distinctly away from zero.</p>
<p>A ggplot of AIC/BIC path plot. Each curve is one bootstrapped APES run.</p>
<p>a variable inclusion plot in ggplot format. An attribute of the name
plotdf is a tibble with all the necessary values to plot a variable inclusion plot</p>
<p>A list.</p><ul>
<li><p><code>apes_mle_beta_binary_plotdf</code> a tibble with all the necessary values to plot a tile variable inclusion plot</p></li>
<li><p><code>var_tile_plot</code> a ggplot with continuous colouring</p></li>
<li><p><code>var_tile_plot_category</code> a ggplot with discrete colouring</p></li>
</ul>

    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Kevin Wang</p>
<p>Kevin Wang</p>
<p>Kevin Wang</p>
<p>Kevin Wang</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>10</span><span class='op'>)</span>
<span class='va'>n</span> <span class='op'>=</span> <span class='fl'>100</span>
<span class='va'>p</span> <span class='op'>=</span> <span class='fl'>10</span>
<span class='va'>beta</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='op'>-</span><span class='fl'>1</span>, <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='va'>p</span><span class='op'>-</span><span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>x</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>*</span><span class='va'>p</span><span class='op'>)</span>, ncol <span class='op'>=</span> <span class='va'>p</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"X"</span>, <span class='fl'>1</span><span class='op'>:</span><span class='va'>p</span><span class='op'>)</span>
<span class='va'>y</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Binomial.html'>rbinom</a></span><span class='op'>(</span>n <span class='op'>=</span> <span class='va'>n</span>, size <span class='op'>=</span> <span class='fl'>1</span>, prob <span class='op'>=</span> <span class='fu'><a href='logit.html'>expit</a></span><span class='op'>(</span><span class='va'>x</span> <span class='op'>%*%</span> <span class='va'>beta</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>data</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span><span class='va'>y</span>, <span class='va'>x</span><span class='op'>)</span>
<span class='va'>model</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/glm.html'>glm</a></span><span class='op'>(</span><span class='va'>y</span> <span class='op'>~</span> <span class='va'>.</span>, data <span class='op'>=</span> <span class='va'>data</span>, family <span class='op'>=</span> <span class='st'>"binomial"</span><span class='op'>)</span>

<span class='va'>boot_result</span> <span class='op'>=</span> <span class='fu'><a href='apes.html'>apes</a></span><span class='op'>(</span>model <span class='op'>=</span> <span class='va'>model</span>, n_boot <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>boot_result</span>, type <span class='op'>=</span> <span class='st'>"vip_tile"</span><span class='op'>)</span>
</div><div class='img'><img src='plot.boot_apes-1.png' alt='' width='700' height='433' /></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>boot_result</span>, type <span class='op'>=</span> <span class='st'>"vip"</span><span class='op'>)</span>
</div><div class='img'><img src='plot.boot_apes-2.png' alt='' width='700' height='433' /></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>boot_result</span>, type <span class='op'>=</span> <span class='st'>"path"</span><span class='op'>)</span>
</div><div class='img'><img src='plot.boot_apes-3.png' alt='' width='700' height='433' /></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>boot_result</span>, type <span class='op'>=</span> <span class='st'>"ma"</span><span class='op'>)</span>
</div><div class='img'><img src='plot.boot_apes-4.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Kevin Wang, Garth Tarr, Jean Yang, Samuel Mueller.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


